<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>McreaHub - Le Gestionnaire Ultime pour MCreator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
    
    <style>
        /* --- VARIABLES & RESET --- */
        :root[data-theme="dark"] {
            --bg-color: #050507;
            --card-bg: rgba(255, 255, 255, 0.03);
            --card-border: rgba(255, 255, 255, 0.08);
            --accent-blue: #0A84FF;
            --accent-purple: #BF5AF2;
            --accent-gold: #FFD60A;
            --text-main: #ffffff;
            --text-muted: #9CA3AF;
            --nav-bg: rgba(10, 10, 12, 0.6);
            --mockup-bg: #1d1d1f;
            --check-color: #30D158;
            --gradient-start: #fff;
            --gradient-end: #ccc;
        }

        :root[data-theme="light"] {
            --bg-color: #ffffff;
            --card-bg: rgba(0, 0, 0, 0.02);
            --card-border: rgba(0, 0, 0, 0.08);
            --accent-blue: #007AFF;
            --accent-purple: #AF52DE;
            --accent-gold: #FFCC00;
            --text-main: #000000;
            --text-muted: #6B7280;
            --nav-bg: rgba(255, 255, 255, 0.8);
            --mockup-bg: #f5f5f7;
            --check-color: #34C759;
            --gradient-start: #000;
            --gradient-end: #333;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        /* --- THEME TOGGLE --- */
        .theme-toggle {
            position: fixed; top: 90px; right: 30px; width: 50px; height: 50px;
            background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1001;
            transition: all 0.3s; font-size: 24px;
        }
        .theme-toggle:hover { transform: scale(1.1); box-shadow: 0 0 20px var(--accent-blue); }

        /* --- NAVBAR --- */
        nav {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 1000px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 24px; background: var(--nav-bg); backdrop-filter: blur(16px);
            border: 1px solid var(--card-border); border-radius: 100px; z-index: 1000;
        }
        .logo { font-family: 'Cinzel Decorative', serif; font-size: 1.2rem; font-weight: 700; color: var(--text-main); text-decoration: none; }
        .nav-links a { color: var(--text-muted); text-decoration: none; margin-left: 24px; font-weight: 500; transition: color 0.2s; }
        .nav-links a:hover { color: var(--text-main); }
        .btn-nav { background: var(--accent-blue); color: white; padding: 8px 20px; border-radius: 20px; text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: transform 0.2s; }
        .btn-nav:hover { transform: scale(1.05); }

        /* --- HERO --- */
        header { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 120px 20px 60px; }
        h1 { font-size: clamp(3rem, 6vw, 5rem); font-weight: 800; line-height: 1.1; margin-bottom: 20px; background: linear-gradient(180deg, var(--gradient-start) 0%, var(--gradient-end) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { font-size: 1.2rem; color: var(--text-muted); max-width: 600px; margin-bottom: 40px; }
        .cta-group { display: flex; gap: 16px; margin-bottom: 80px; flex-wrap: wrap; justify-content: center; }
        
        .btn-primary { 
            background: var(--accent-blue); color: white; padding: 14px 32px; border-radius: 12px; font-weight: 600; 
            text-decoration: none; box-shadow: 0 0 20px rgba(10, 132, 255, 0.3); transition: all 0.2s; 
            display: flex; align-items: center; gap: 10px; cursor: pointer;
        }
        .btn-primary:hover { box-shadow: 0 0 40px rgba(10, 132, 255, 0.5); transform: translateY(-2px); }
        .btn-primary.disabled { background: var(--card-bg); color: var(--text-muted); box-shadow: none; cursor: default; }
        
        .btn-secondary { background: var(--card-bg); border: 1px solid var(--card-border); color: var(--text-main); padding: 14px 32px; border-radius: 12px; font-weight: 600; text-decoration: none; transition: background 0.2s; }
        .btn-secondary:hover { background: rgba(128,128,128,0.1); }

        /* --- MOCKUP / IMAGE --- */
        .app-preview-container { perspective: 2000px; width: 100%; max-width: 1200px; margin: 0 auto; }
        .app-window { 
            background: var(--mockup-bg); 
            border-radius: 16px; 
            border: 1px solid var(--card-border); 
            box-shadow: 0 50px 100px -20px rgba(0,0,0,0.5); 
            overflow: hidden; 
            transform: rotateX(10deg) translateY(20px); 
            transition: transform 0.5s ease-out;
        }
        
        .app-screenshot {
            width: 100%;
            height: auto;
            display: block;
            border-bottom: 1px solid var(--card-border);
        }
        
        /* --- FEATURES --- */
        section { padding: 100px 20px; max-width: 1200px; margin: 0 auto; }
        .section-header { margin-bottom: 60px; text-align: center; }
        .section-tag { color: var(--accent-blue); font-weight: 700; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 0.1em; margin-bottom: 10px; display: block; }
        .section-title { font-size: 2.5rem; font-weight: 700; margin-bottom: 10px; }

        .bento-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .card { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 24px; padding: 32px; position: relative; overflow: hidden; transition: transform 0.2s; display: flex; flex-direction: column; min-height: 250px; }
        .card:hover { transform: translateY(-5px); border-color: var(--accent-blue); }
        .card-large { grid-column: span 2; }
        .card-icon { font-size: 24px; margin-bottom: 20px; }
        .card h3 { font-size: 1.5rem; margin-bottom: 10px; }
        .card p { color: var(--text-muted); font-size: 0.95rem; }

        /* --- PRICING SECTION --- */
        .pricing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 40px; }
        
        .price-card {
            background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 24px;
            padding: 40px 30px; display: flex; flex-direction: column; position: relative;
            transition: transform 0.3s;
        }
        .price-card:hover { transform: translateY(-10px); }
        
        .price-card.featured {
            border-color: var(--accent-purple);
            background: linear-gradient(180deg, rgba(191, 90, 242, 0.05) 0%, var(--card-bg) 100%);
            box-shadow: 0 20px 40px -10px rgba(191, 90, 242, 0.2);
        }
        
        .price-card.ultimate {
            border-color: var(--accent-gold);
            background: linear-gradient(180deg, rgba(255, 214, 10, 0.05) 0%, var(--card-bg) 100%);
            box-shadow: 0 20px 40px -10px rgba(255, 214, 10, 0.2);
        }

        .badge {
            position: absolute; top: 20px; right: 20px;
            padding: 4px 12px; border-radius: 20px; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1px;
        }
        .badge.pro { background: var(--accent-purple); color: white; }
        .badge.ultimate { background: var(--accent-gold); color: black; }

        .price-header { margin-bottom: 30px; }
        .plan-name { font-size: 1.2rem; font-weight: 600; color: var(--text-muted); margin-bottom: 10px; }
        
        .price { font-size: 3rem; font-weight: 800; color: var(--text-main); display: flex; align-items: baseline; }
        .price span { font-size: 1rem; color: var(--text-muted); font-weight: 400; margin-left: 5px; }
        
        .features-list { list-style: none; margin-bottom: 40px; flex: 1; }
        .features-list li { margin-bottom: 15px; display: flex; align-items: center; gap: 10px; color: var(--text-main); font-size: 0.95rem; }
        .check { color: var(--check-color); font-weight: bold; font-size: 1.2rem; }
        
        .btn-price {
            display: block; width: 100%; text-align: center; padding: 14px; border-radius: 12px; font-weight: 700; text-decoration: none; transition: 0.2s;
        }
        .btn-price.free { background: var(--card-bg); border: 1px solid var(--card-border); color: var(--text-main); }
        .btn-price.free:hover { background: rgba(255,255,255,0.1); }
        
        .btn-price.pro { background: var(--accent-purple); color: white; box-shadow: 0 10px 20px -5px rgba(191, 90, 242, 0.4); }
        .btn-price.pro:hover { filter: brightness(1.1); }
        
        .btn-price.ultimate { background: var(--accent-gold); color: black; box-shadow: 0 10px 20px -5px rgba(255, 214, 10, 0.4); }
        .btn-price.ultimate:hover { filter: brightness(1.1); }

        /* --- VERSIONS --- */
        .versions-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; margin-top: 40px; }
        .version-card { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 16px; padding: 24px; display: flex; flex-direction: column; }
        .version-tag { display: inline-block; background: var(--accent-blue); color: white; padding: 4px 12px; border-radius: 12px; font-size: 0.7rem; font-weight: 700; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
        .version-name { font-size: 1.4rem; font-weight: 700; margin-bottom: 4px; color: var(--text-main); }
        .version-date { color: var(--text-muted); font-size: 0.85rem; margin-bottom: 16px; font-family: monospace; }
        .version-body { color: var(--text-muted); font-size: 0.9rem; line-height: 1.5; margin-bottom: 20px; flex: 1; }
        
        .download-btn { display: inline-flex; align-items: center; justify-content: center; width: 100%; gap: 8px; background: var(--accent-blue); color: white; padding: 12px; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.2s; margin-top: 10px; }
        .download-btn:hover { filter: brightness(1.1); }
        .download-btn.secondary { background: transparent; border: 1px solid var(--card-border); color: var(--text-main); }
        .download-btn.secondary:hover { background: rgba(255,255,255,0.05); }

        footer { border-top: 1px solid var(--card-border); padding: 80px 20px; text-align: center; margin-top: 100px; }
        .footer-links { display: flex; justify-content: center; gap: 30px; margin: 30px 0; }
        .footer-links a { color: var(--text-muted); text-decoration: none; }

        @media (max-width: 900px) {
            .bento-grid { grid-template-columns: 1fr; }
            .card-large { grid-column: span 1; }
            h1 { font-size: 3rem; }
        }
    </style>
</head>
<body>
    <div class="ambient-light"></div>
    <div class="theme-toggle" onclick="toggleTheme()"><span id="theme-icon">üåô</span></div>

    <nav>
        <a href="#" class="logo">McreaHub</a>
        <div class="nav-links">
            <a href="#features">Fonctionnalit√©s</a>
            <a href="#pricing">Tarifs</a>
            <a href="#versions">T√©l√©charger</a>
        </div>
        <a href="#pricing" class="btn-nav">Commencer</a>
    </nav>

    <header>
        <div class="tag" style="margin-bottom: 20px; padding: 6px 12px; border-radius: 20px; background: rgba(128,128,128,0.2); font-size: 0.8rem; font-weight: 600;">
            ‚ú® <span id="latest-tag">Recherche de la derni√®re version...</span>
        </div>
        <h1>Ma√Ætrisez vos projets<br>MCreator.</h1>
        <p class="subtitle">Le gestionnaire tout-en-un. Multi-versions, Git, Backups et plus encore.</p>
        
        <div class="cta-group">
            <a href="#pricing" class="btn-primary" id="hero-dl-btn">
                <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                <span id="hero-dl-text">Voir les offres</span>
            </a>
            <a href="https://github.com/Dreyka-Oas/McreaHub" class="btn-secondary" target="_blank">Code Source</a>
        </div>

        <div class="app-preview-container">
            <div class="app-window">
                <!-- IMAGE REELLE .webp -->
                <img src="app-preview.webp" 
                     alt="Interface McreaHub" 
                     class="app-screenshot"
                     style="display: block; width: 100%; height: auto;">
            </div>
        </div>
    </header>

    <section id="features">
        <div class="section-header">
            <span class="section-tag">Fonctionnalit√©s</span>
            <h2 class="section-title">Pourquoi McreaHub ?</h2>
        </div>
        <div class="bento-grid">
            <div class="card card-large">
                <div class="card-icon">üì¶</div>
                <h3>Multi-Versions</h3>
                <p>Installez plusieurs versions de MCreator simultan√©ment sans conflit. Id√©al pour maintenir d'anciens mods.</p>
            </div>
            <div class="card">
                <div class="card-icon">üîÑ</div>
                <h3>Git Int√©gr√©</h3>
                <p>Synchronisez vos espaces de travail avec GitHub en un clic. Plus besoin de ligne de commande.</p>
            </div>
            <div class="card">
                <div class="card-icon">üõ°Ô∏è</div>
                <h3>Backups Auto</h3>
                <p>Syst√®me de sauvegarde locale zipp√©e avec historique. Ne perdez plus jamais votre travail.</p>
            </div>
            <div class="card card-large">
                <div class="card-icon">üìù</div>
                <h3>Notes & T√¢ches</h3>
                <p>Un espace de prise de notes int√©gr√© pour lister vos id√©es de mods, vos TODOs et les lier √† des projets sp√©cifiques.</p>
            </div>
        </div>
    </section>

    <!-- SECTION PRICING -->
    <section id="pricing">
        <div class="section-header">
            <span class="section-tag">Tarifs</span>
            <h2 class="section-title">Choisissez votre √©dition</h2>
            <p style="color:var(--text-muted);">Abonnement mensuel annulable √† tout moment.</p>
        </div>

        <div class="pricing-grid">
            
            <!-- FREE -->
            <div class="price-card">
                <div class="price-header">
                    <h3 class="plan-name">User</h3>
                    <div class="price">Gratuit</div>
                </div>
                <ul class="features-list">
                    <li><span class="check">‚úì</span> Gestion Multi-Versions</li>
                    <li><span class="check">‚úì</span> Lancements isol√©s</li>
                    <li><span class="check">‚úì</span> Backups locaux</li>
                    <li><span class="check">‚úì</span> Th√®mes Clair/Sombre</li>
                </ul>
                <a href="#" id="dl-link-user" class="btn-price free">T√©l√©charger</a>
            </div>

            <!-- PRO -->
            <div class="price-card featured">
                <div class="badge pro">Recommand√©</div>
                <div class="price-header">
                    <h3 class="plan-name">Pro</h3>
                    <div class="price">1.99‚Ç¨ <span>/ mois</span></div>
                </div>
                <ul class="features-list">
                    <li><span class="check">‚úì</span> <strong>Toutes les fonctions User</strong></li>
                    <li><span class="check">‚úì</span> <strong>Synchronisation GitHub</strong></li>
                    <li><span class="check">‚úì</span> T√©l√©chargements simultan√©s</li>
                    <li><span class="check">‚úì</span> Traduction auto changelog</li>
                    <li><span class="check">‚úì</span> Sidebar personnalisable</li>
                </ul>
                <a href="#" id="dl-link-pro" class="btn-price pro">Obtenir Pro</a>
            </div>

            <!-- EXTRAS -->
            <div class="price-card ultimate">
                <div class="badge ultimate">Ultime</div>
                <div class="price-header">
                    <h3 class="plan-name">Extras</h3>
                    <div class="price">3.99‚Ç¨ <span>/ mois</span></div>
                </div>
                <ul class="features-list">
                    <li><span class="check">‚úì</span> <strong>Toutes les fonctions Pro</strong></li>
                    <li><span class="check">‚úì</span> <strong>Gestionnaire de Notes</strong></li>
                    <li><span class="check">‚úì</span> Liste de t√¢ches (To-Do)</li>
                    <li><span class="check">‚úì</span> Liaison Notes <-> Projets</li>
                    <li><span class="check">‚úì</span> Support du d√©veloppement</li>
                </ul>
                <a href="#" id="dl-link-extras" class="btn-price ultimate">Obtenir Extras</a>
            </div>

        </div>
    </section>

    <section id="versions">
        <h2 style="font-size:2rem; margin-bottom:40px; text-align:center;">Historique des versions</h2>
        <div id="versions-container" class="versions-grid"></div>
    </section>

    <footer>
        <h2 style="font-family:'Cinzel Decorative', serif;">McreaHub</h2>
        <div class="footer-links">
            <a href="https://github.com/Dreyka-Oas/McreaHub">GitHub</a>
            <a href="https://github.com/Dreyka-Oas/McreaHub/issues">Signaler un bug</a>
        </div>
        <p style="color:var(--text-muted); font-size:0.8rem;">Non affili√© officiellement √† Pylo.</p>
    </footer>

    <script>
        const savedTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', savedTheme);
        document.getElementById('theme-icon').textContent = savedTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';

        function toggleTheme() {
            const current = document.documentElement.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', next);
            localStorage.setItem('theme', next);
            document.getElementById('theme-icon').textContent = next === 'dark' ? 'üåô' : '‚òÄÔ∏è';
        }

        // --- DETECTION INTELLIGENTE ---
        const userAgent = navigator.userAgent.toLowerCase();
        let os = 'unknown';
        if (userAgent.includes('win')) os = 'win';
        else if (userAgent.includes('mac')) os = 'mac';
        else if (userAgent.includes('linux')) os = 'linux';

        const osNames = { win: 'Windows (x64)', mac: 'macOS (Apple Silicon)', linux: 'Linux (AppImage)' };
        const ext = os === 'win' ? '.exe' : os === 'mac' ? '.dmg' : '.AppImage';

        async function loadReleases() {
            const container = document.getElementById('versions-container');
            const tagLabel = document.getElementById('latest-tag');
            
            // Boutons de la section Pricing
            const btnUser = document.getElementById('dl-link-user');
            const btnPro = document.getElementById('dl-link-pro');
            const btnExtras = document.getElementById('dl-link-extras');

            try {
                const res = await fetch('https://api.github.com/repos/Dreyka-Oas/McreaHub/releases');
                if (!res.ok) throw new Error('GitHub API Error');
                const releases = await res.json();
                
                const validReleases = releases.filter(r => r.assets && r.assets.length > 0);

                if (validReleases.length === 0) {
                    tagLabel.textContent = "Aucune version publi√©e (Draft en cours...)";
                    return;
                }

                const latest = validReleases[0];
                tagLabel.textContent = `Version ${latest.tag_name} disponible`;

                // --- MAPPING DES ASSETS PAR √âDITION ET OS ---
                const assetUser = latest.assets.find(a => a.name.includes('Mcreahub-Setup') && a.name.endsWith(ext));
                const assetPro = latest.assets.find(a => a.name.includes('Mcreahub-Pro') && a.name.endsWith(ext));
                const assetExtras = latest.assets.find(a => a.name.includes('Mcreahub-Extras') && a.name.endsWith(ext));

                // --- MISE √Ä JOUR DES BOUTONS PRIX ---
                if (assetUser) { btnUser.href = assetUser.browser_download_url; btnUser.textContent = `T√©l√©charger (${osNames[os]})`; btnUser.setAttribute('target', '_blank'); }
                else { btnUser.href = latest.html_url; btnUser.textContent = "Voir sur GitHub"; btnUser.setAttribute('target', '_blank'); }

                if (assetPro) { btnPro.href = assetPro.browser_download_url; btnPro.textContent = `Obtenir Pro (${osNames[os]})`; btnPro.setAttribute('target', '_blank'); }
                else { btnPro.href = latest.html_url; btnPro.textContent = "Non dispo sur cet OS"; btnPro.setAttribute('target', '_blank'); }

                if (assetExtras) { btnExtras.href = assetExtras.browser_download_url; btnExtras.textContent = `Obtenir Extras (${osNames[os]})`; btnExtras.setAttribute('target', '_blank'); }
                else { btnExtras.href = latest.html_url; btnExtras.textContent = "Non dispo sur cet OS"; btnExtras.setAttribute('target', '_blank'); }

                // --- HISTORIQUE DES VERSIONS ---
                container.innerHTML = validReleases.map((release, index) => {
                    const isLatest = index === 0;
                    const date = new Date(release.published_at).toLocaleDateString();
                    const mainAsset = release.assets.find(a => a.name.includes('Mcreahub-Setup') && a.name.endsWith(ext));
                    const dlUrl = mainAsset ? mainAsset.browser_download_url : release.html_url;

                    return `
                        <div class="version-card">
                            ${isLatest ? '<span class="version-tag">DERNI√àRE VERSION</span>' : ''}
                            <h3 class="version-name">${release.name || release.tag_name}</h3>
                            <p class="version-date">Publi√© le ${date}</p>
                            <div class="version-body">${release.body ? release.body.substring(0, 100) + '...' : ''}</div>
                            <a href="${dlUrl}" class="download-btn" target="_blank">T√©l√©charger</a>
                        </div>
                    `;
                }).join('');

            } catch (err) {
                console.error(err);
                tagLabel.textContent = "Impossible de charger les versions";
            }
        }

        loadReleases();
    </script>
</body>
</html>